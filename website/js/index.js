!function(){const t={init:function(){const t=document.querySelectorAll("[draggable=true]");for(let e=0;e<t.length;e++){const a=t[e];this.setListenersForItem(a)}const e=document.querySelectorAll("ul");for(let t=0;t<e.length;t++){const a=e[t];a.addEventListener("dragover",this.dragOver,!1),a.addEventListener("dragleave",this.dragLeave,!1),a.addEventListener("drop",this.drop,!1)}},setListenersForItem:function(t){t.addEventListener("dragstart",this.start,!1),t.addEventListener("dragend",this.end,!1)},start:function(t){console.log("start"),t.dataTransfer.effectAllowed="copy",t.target.classList.add("dragged"),t.dataTransfer.setData("text/plain",t.target.parentElement.id)},end:function(t){console.log("end"),t.target.classList.remove("dragged")},dragOver:function(t){return console.log("over",t.target),document.getElementById(t.dataTransfer.getData("text/plain"))==t.target?t.dataTransfer.dropEffect="none":t.target.classList.contains("drag-copy")?t.dataTransfer.dropEffect="copy":t.target.classList.contains("drag-move")?t.dataTransfer.dropEffect="move":t.target.classList.contains("drag-delete")&&(t.dataTransfer.dropEffect="copy"),t.preventDefault(),!1},dragLeave:function(t){console.log("leave")},drop:function(e){e.stopPropagation&&e.stopPropagation(),console.log("drop");const a=document.getElementById(e.dataTransfer.getData("text/plain"));if(a!=e.target){const n=a.getElementsByClassName("dragged")[0];if(e.target.classList.contains("drag-move"))e.target.appendChild(n);else if(e.target.classList.contains("drag-copy")){const a=n.cloneNode(!0);a.classList.remove("dragged"),setTimeout(function(){t.setListenersForItem(a)}),e.target.appendChild(a)}else e.target.classList.contains("drag-delete")&&n.parentElement.removeChild(n)}return e.preventDefault(),!1}};t.init()}(),window.addEventListener("load",function(){});