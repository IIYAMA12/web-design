!function(){const e={init:function(){const e=document.querySelectorAll("[draggable=true]");for(let t=0;t<e.length;t++){const n=e[t];this.setListenersForItem(n)}const t=document.querySelectorAll("ul");for(let e=0;e<t.length;e++){const n=t[e];n.addEventListener("dragover",this.dragOver,!1),n.addEventListener("dragleave",this.dragLeave,!1),n.addEventListener("drop",this.drop,!1)}},setListenersForItem:function(e){e.addEventListener("dragstart",this.start,!1),e.addEventListener("dragend",this.end,!1)},start:function(e){console.log("start"),e.dataTransfer.effectAllowed="copy",e.target.classList.add("dragged"),e.dataTransfer.setData("text/plain",e.target.parentElement.id)},end:function(e){console.log("end"),e.target.classList.remove("dragged")},dragOver:function(e){return console.log("over",e.target),document.getElementById(e.dataTransfer.getData("text/plain"))==e.target?e.dataTransfer.dropEffect="none":e.target.classList.contains("drag-copy")?e.dataTransfer.dropEffect="copy":e.target.classList.contains("drag-move")?e.dataTransfer.dropEffect="move":e.target.classList.contains("drag-delete")&&(e.dataTransfer.dropEffect="copy"),e.preventDefault(),!1},dragLeave:function(e){console.log("leave")},drop:function(t){t.stopPropagation&&t.stopPropagation(),console.log("drop");const n=document.getElementById(t.dataTransfer.getData("text/plain"));if(n!=t.target){const a=n.getElementsByClassName("dragged")[0];if(t.target.classList.contains("drag-move"))t.target.appendChild(a);else if(t.target.classList.contains("drag-copy")){const n=a.cloneNode(!0);n.classList.remove("dragged"),setTimeout(function(){e.setListenersForItem(n)}),t.target.appendChild(n)}else t.target.classList.contains("drag-delete")&&a.parentElement.removeChild(a)}return t.preventDefault(),!1}};e.init()}(),window.addEventListener("load",function(){const e=[{content:function(e){const t=[];for(let n=0;n<e.length;n++)t[t.length]={element:document.createElement("li"),data:e[n]};return t},type:"function",children:[{content:"h3",type:"tag",child:{type:"function",content:function(e,t){}}}]}];fetch("https://api.themoviedb.org/3/discover/movie?primary_release_date.gte=2014-09-15&primary_release_date.lte=2014-10-22&api_key=91e0bf2847df0304e6f6dc4be0546cf2").then(function(e){return e.json()}).then(function(t){console.log(t),console.log("templateEngine",templateEngine,t),templateEngine.render(e,document.getElementById("shop-list"),t.results)}).catch(function(e){console.log(e)})});